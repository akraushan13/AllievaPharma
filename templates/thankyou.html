{% extends "base.html" %}
{% load static %}

{% block title %} Thank You {% endblock %}

{% block body %}

<section class="page-title mb-0" style="background-image: url('{% static 'images/background/1709723307145.jpeg' %}');
                padding: 30px;
                background-size: cover;
                background-position: center;">
  <div class="auto-container mt-2">
    <h3 style="text-transform: uppercase;">Thank you</h3>
      <ul class="bread-crumb clearfix mb-0">
        <li><a href="{% url 'index' %}">Home</a></li>
        <li>Thank you</li>
      </ul>
  </div>
</section>


<div class="container text-center py-5">
    <div class="checkmark display-3 text-success">âœ”</div>
    <h1 class="mt-3">Thank you!</h1>
    <p class="lead">{{ message }}</p>

    <a href="{% if previous_page %}{{ previous_page }}{% else %}{% url 'products' %}{% endif %}"
       class="btn btn-info mt-3">
       BACK TO PREVIOUS PAGE
    </a>

    <div id="countdown" class="text-muted mt-3 mb-5">
        Redirecting in <span id="seconds">5</span> seconds...
    </div>
</div>

<script>
    let seconds = 5;
    const countdownEl = document.getElementById("seconds");
    const redirectUrl = "{% if previous_page %}{{ previous_page }}{% else %}{% url 'products' %}{% endif %}";

    const timer = setInterval(function() {
        seconds--;
        countdownEl.textContent = seconds;
        if (seconds <= 0) {
            clearInterval(timer);
            window.location.href = redirectUrl;
        }
    }, 1000);
</script>
{% endblock %}
